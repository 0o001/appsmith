function cov_1b4xip93ty() {
  var path = "/Users/apple/github/appsmith/app/client/src/widgets/CurrencyInputWidget/widget/derived.js";
  var hash = "d94885103f7e4263458999a290ee5d151d9006af";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/apple/github/appsmith/app/client/src/widgets/CurrencyInputWidget/widget/derived.js",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 4
        },
        end: {
          line: 10,
          column: 5
        }
      },
      "1": {
        start: {
          line: 6,
          column: 6
        },
        end: {
          line: 6,
          column: 34
        }
      },
      "2": {
        start: {
          line: 7,
          column: 6
        },
        end: {
          line: 7,
          column: 45
        }
      },
      "3": {
        start: {
          line: 9,
          column: 6
        },
        end: {
          line: 9,
          column: 19
        }
      },
      "4": {
        start: {
          line: 12,
          column: 4
        },
        end: {
          line: 14,
          column: 5
        }
      },
      "5": {
        start: {
          line: 13,
          column: 6
        },
        end: {
          line: 13,
          column: 18
        }
      },
      "6": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 17,
          column: 5
        }
      },
      "7": {
        start: {
          line: 16,
          column: 6
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "8": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 21,
          column: 5
        }
      },
      "9": {
        start: {
          line: 20,
          column: 6
        },
        end: {
          line: 20,
          column: 19
        }
      },
      "10": {
        start: {
          line: 23,
          column: 22
        },
        end: {
          line: 23,
          column: 26
        }
      },
      "11": {
        start: {
          line: 24,
          column: 4
        },
        end: {
          line: 46,
          column: 5
        }
      },
      "12": {
        start: {
          line: 29,
          column: 25
        },
        end: {
          line: 29,
          column: 67
        }
      },
      "13": {
        start: {
          line: 31,
          column: 6
        },
        end: {
          line: 45,
          column: 7
        }
      },
      "14": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 46
        }
      },
      "15": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 44,
          column: 9
        }
      },
      "16": {
        start: {
          line: 38,
          column: 10
        },
        end: {
          line: 38,
          column: 44
        }
      },
      "17": {
        start: {
          line: 43,
          column: 10
        },
        end: {
          line: 43,
          column: 65
        }
      },
      "18": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 51,
          column: 5
        }
      },
      "19": {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 48,
          column: 42
        }
      },
      "20": {
        start: {
          line: 50,
          column: 6
        },
        end: {
          line: 50,
          column: 27
        }
      },
      "21": {
        start: {
          line: 55,
          column: 17
        },
        end: {
          line: 55,
          column: 27
        }
      },
      "22": {
        start: {
          line: 58,
          column: 6
        },
        end: {
          line: 58,
          column: 49
        }
      },
      "23": {
        start: {
          line: 62,
          column: 6
        },
        end: {
          line: 64,
          column: 37
        }
      },
      "24": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 70,
          column: 37
        }
      },
      "25": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 87,
          column: 5
        }
      },
      "26": {
        start: {
          line: 74,
          column: 21
        },
        end: {
          line: 78,
          column: 7
        }
      },
      "27": {
        start: {
          line: 80,
          column: 6
        },
        end: {
          line: 82,
          column: 7
        }
      },
      "28": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 81,
          column: 27
        }
      },
      "29": {
        start: {
          line: 84,
          column: 6
        },
        end: {
          line: 84,
          column: 20
        }
      },
      "30": {
        start: {
          line: 86,
          column: 6
        },
        end: {
          line: 86,
          column: 23
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 3,
            column: 11
          },
          end: {
            line: 3,
            column: 12
          }
        },
        loc: {
          start: {
            line: 3,
            column: 33
          },
          end: {
            line: 52,
            column: 3
          }
        },
        line: 3
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 54,
            column: 9
          },
          end: {
            line: 54,
            column: 10
          }
        },
        loc: {
          start: {
            line: 54,
            column: 31
          },
          end: {
            line: 88,
            column: 3
          }
        },
        line: 54
      },
      "2": {
        name: "getLocale",
        decl: {
          start: {
            line: 57,
            column: 13
          },
          end: {
            line: 57,
            column: 22
          }
        },
        loc: {
          start: {
            line: 57,
            column: 25
          },
          end: {
            line: 59,
            column: 5
          }
        },
        line: 57
      },
      "3": {
        name: "getLocaleDecimalSeperator",
        decl: {
          start: {
            line: 61,
            column: 13
          },
          end: {
            line: 61,
            column: 38
          }
        },
        loc: {
          start: {
            line: 61,
            column: 41
          },
          end: {
            line: 65,
            column: 5
          }
        },
        line: 61
      },
      "4": {
        name: "getLocaleThousandSeparator",
        decl: {
          start: {
            line: 67,
            column: 13
          },
          end: {
            line: 67,
            column: 39
          }
        },
        loc: {
          start: {
            line: 67,
            column: 42
          },
          end: {
            line: 71,
            column: 5
          }
        },
        line: 67
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        }, {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        }],
        line: 12
      },
      "1": {
        loc: {
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 12,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 12,
            column: 25
          }
        }, {
          start: {
            line: 12,
            column: 30
          },
          end: {
            line: 12,
            column: 47
          }
        }, {
          start: {
            line: 12,
            column: 51
          },
          end: {
            line: 12,
            column: 75
          }
        }],
        line: 12
      },
      "2": {
        loc: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        }, {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        }],
        line: 15
      },
      "3": {
        loc: {
          start: {
            line: 15,
            column: 8
          },
          end: {
            line: 15,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 15,
            column: 8
          },
          end: {
            line: 15,
            column: 24
          }
        }, {
          start: {
            line: 15,
            column: 28
          },
          end: {
            line: 15,
            column: 42
          }
        }],
        line: 15
      },
      "4": {
        loc: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        }, {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        }],
        line: 19
      },
      "5": {
        loc: {
          start: {
            line: 19,
            column: 8
          },
          end: {
            line: 19,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 19,
            column: 8
          },
          end: {
            line: 19,
            column: 45
          }
        }, {
          start: {
            line: 19,
            column: 49
          },
          end: {
            line: 19,
            column: 66
          }
        }],
        line: 19
      },
      "6": {
        loc: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 46,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 46,
            column: 5
          }
        }, {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 46,
            column: 5
          }
        }],
        line: 24
      },
      "7": {
        loc: {
          start: {
            line: 31,
            column: 6
          },
          end: {
            line: 45,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 6
          },
          end: {
            line: 45,
            column: 7
          }
        }, {
          start: {
            line: 31,
            column: 6
          },
          end: {
            line: 45,
            column: 7
          }
        }],
        line: 31
      },
      "8": {
        loc: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        }, {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        }],
        line: 34
      },
      "9": {
        loc: {
          start: {
            line: 35,
            column: 10
          },
          end: {
            line: 36,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 35,
            column: 10
          },
          end: {
            line: 35,
            column: 23
          }
        }, {
          start: {
            line: 36,
            column: 10
          },
          end: {
            line: 36,
            column: 60
          }
        }],
        line: 35
      },
      "10": {
        loc: {
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        }, {
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        }],
        line: 47
      },
      "11": {
        loc: {
          start: {
            line: 58,
            column: 13
          },
          end: {
            line: 58,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 58,
            column: 13
          },
          end: {
            line: 58,
            column: 37
          }
        }, {
          start: {
            line: 58,
            column: 41
          },
          end: {
            line: 58,
            column: 48
          }
        }],
        line: 58
      },
      "12": {
        loc: {
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 87,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 87,
            column: 5
          }
        }, {
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 87,
            column: 5
          }
        }],
        line: 73
      },
      "13": {
        loc: {
          start: {
            line: 80,
            column: 6
          },
          end: {
            line: 82,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 80,
            column: 6
          },
          end: {
            line: 82,
            column: 7
          }
        }, {
          start: {
            line: 80,
            column: 6
          },
          end: {
            line: 82,
            column: 7
          }
        }],
        line: 80
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "d94885103f7e4263458999a290ee5d151d9006af"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1b4xip93ty = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1b4xip93ty();
/* eslint-disable @typescript-eslint/no-unused-vars*/
export default {
  isValid: (props, moment, _) => {
    cov_1b4xip93ty().f[0]++;
    let hasValidValue, value;
    cov_1b4xip93ty().s[0]++;
    try {
      cov_1b4xip93ty().s[1]++;
      value = Number(props.value);
      cov_1b4xip93ty().s[2]++;
      hasValidValue = Number.isFinite(value);
    } catch (e) {
      cov_1b4xip93ty().s[3]++;
      return false;
    }
    cov_1b4xip93ty().s[4]++;
    if ((cov_1b4xip93ty().b[1][0]++, !props.isRequired) && ((cov_1b4xip93ty().b[1][1]++, props.text === "") || (cov_1b4xip93ty().b[1][2]++, props.text === undefined))) {
      cov_1b4xip93ty().b[0][0]++;
      cov_1b4xip93ty().s[5]++;
      return true;
    } else {
      cov_1b4xip93ty().b[0][1]++;
    }
    cov_1b4xip93ty().s[6]++;
    if ((cov_1b4xip93ty().b[3][0]++, props.isRequired) && (cov_1b4xip93ty().b[3][1]++, !hasValidValue)) {
      cov_1b4xip93ty().b[2][0]++;
      cov_1b4xip93ty().s[7]++;
      return false;
    } else {
      cov_1b4xip93ty().b[2][1]++;
    }
    cov_1b4xip93ty().s[8]++;
    if ((cov_1b4xip93ty().b[5][0]++, typeof props.validation === "boolean") && (cov_1b4xip93ty().b[5][1]++, !props.validation)) {
      cov_1b4xip93ty().b[4][0]++;
      cov_1b4xip93ty().s[9]++;
      return false;
    } else {
      cov_1b4xip93ty().b[4][1]++;
    }
    let parsedRegex = (cov_1b4xip93ty().s[10]++, null);
    cov_1b4xip93ty().s[11]++;
    if (props.regex) {
      cov_1b4xip93ty().b[6][0]++;
      /*
       * break up the regexp pattern into 4 parts: given regex, regex prefix , regex pattern, regex flags
       * Example /test/i will be split into ["/test/gi", "/", "test", "gi"]
       */
      const regexParts = (cov_1b4xip93ty().s[12]++, props.regex.match(/(\/?)(.+)\\1([a-z]*)/i));
      cov_1b4xip93ty().s[13]++;
      if (!regexParts) {
        cov_1b4xip93ty().b[7][0]++;
        cov_1b4xip93ty().s[14]++;
        parsedRegex = new RegExp(props.regex);
      } else {
        cov_1b4xip93ty().b[7][1]++;
        cov_1b4xip93ty().s[15]++;
        if ((cov_1b4xip93ty().b[9][0]++, regexParts[3]) && (cov_1b4xip93ty().b[9][1]++, !/^(?!.*?(.).*?\\1)[gmisuy]+$/.test(regexParts[3]))) {
          cov_1b4xip93ty().b[8][0]++;
          cov_1b4xip93ty().s[16]++;
          parsedRegex = RegExp(props.regex);
        } else {
          cov_1b4xip93ty().b[8][1]++;
          cov_1b4xip93ty().s[17]++;
          /*
           * if we have a regex flags, use it to form regexp
           */
          parsedRegex = new RegExp(regexParts[2], regexParts[3]);
        }
      }
    } else {
      cov_1b4xip93ty().b[6][1]++;
    }
    cov_1b4xip93ty().s[18]++;
    if (parsedRegex) {
      cov_1b4xip93ty().b[10][0]++;
      cov_1b4xip93ty().s[19]++;
      return parsedRegex.test(props.text);
    } else {
      cov_1b4xip93ty().b[10][1]++;
      cov_1b4xip93ty().s[20]++;
      return hasValidValue;
    }
  },
  //
  value: (props, moment, _) => {
    cov_1b4xip93ty().f[1]++;
    const text = (cov_1b4xip93ty().s[21]++, props.text);
    function getLocale() {
      cov_1b4xip93ty().f[2]++;
      cov_1b4xip93ty().s[22]++;
      return (cov_1b4xip93ty().b[11][0]++, navigator.languages?.[0]) || (cov_1b4xip93ty().b[11][1]++, "en-US");
    }
    function getLocaleDecimalSeperator() {
      cov_1b4xip93ty().f[3]++;
      cov_1b4xip93ty().s[23]++;
      return Intl.NumberFormat(getLocale()).format(1.1).replace(/\p{Number}/gu, "");
    }
    function getLocaleThousandSeparator() {
      cov_1b4xip93ty().f[4]++;
      cov_1b4xip93ty().s[24]++;
      return Intl.NumberFormat(getLocale()).format(11111).replace(/\p{Number}/gu, "");
    }
    cov_1b4xip93ty().s[25]++;
    if (text) {
      cov_1b4xip93ty().b[12][0]++;
      const parsed = (cov_1b4xip93ty().s[26]++, parseFloat(text.replace(new RegExp(`[${getLocaleThousandSeparator()}]`, "g"), "").replace(new RegExp(`[${getLocaleDecimalSeperator()}]`), ".")));
      cov_1b4xip93ty().s[27]++;
      if (_.isNaN(parsed)) {
        cov_1b4xip93ty().b[13][0]++;
        cov_1b4xip93ty().s[28]++;
        parsed = undefined;
      } else {
        cov_1b4xip93ty().b[13][1]++;
      }
      cov_1b4xip93ty().s[29]++;
      return parsed;
    } else {
      cov_1b4xip93ty().b[12][1]++;
      cov_1b4xip93ty().s[30]++;
      return undefined;
    }
  }
  //
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWI0eGlwOTN0eSIsImFjdHVhbENvdmVyYWdlIiwiaXNWYWxpZCIsInByb3BzIiwibW9tZW50IiwiXyIsImYiLCJoYXNWYWxpZFZhbHVlIiwidmFsdWUiLCJzIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJlIiwiYiIsImlzUmVxdWlyZWQiLCJ0ZXh0IiwidW5kZWZpbmVkIiwidmFsaWRhdGlvbiIsInBhcnNlZFJlZ2V4IiwicmVnZXgiLCJyZWdleFBhcnRzIiwibWF0Y2giLCJSZWdFeHAiLCJ0ZXN0IiwiZ2V0TG9jYWxlIiwibmF2aWdhdG9yIiwibGFuZ3VhZ2VzIiwiZ2V0TG9jYWxlRGVjaW1hbFNlcGVyYXRvciIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJmb3JtYXQiLCJyZXBsYWNlIiwiZ2V0TG9jYWxlVGhvdXNhbmRTZXBhcmF0b3IiLCJwYXJzZWQiLCJwYXJzZUZsb2F0IiwiaXNOYU4iXSwic291cmNlcyI6WyJkZXJpdmVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyovXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzVmFsaWQ6IChwcm9wcywgbW9tZW50LCBfKSA9PiB7XG4gICAgbGV0IGhhc1ZhbGlkVmFsdWUsIHZhbHVlO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IE51bWJlcihwcm9wcy52YWx1ZSk7XG4gICAgICBoYXNWYWxpZFZhbHVlID0gTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9wcy5pc1JlcXVpcmVkICYmIChwcm9wcy50ZXh0ID09PSBcIlwiIHx8IHByb3BzLnRleHQgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocHJvcHMuaXNSZXF1aXJlZCAmJiAhaGFzVmFsaWRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvcHMudmFsaWRhdGlvbiA9PT0gXCJib29sZWFuXCIgJiYgIXByb3BzLnZhbGlkYXRpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgcGFyc2VkUmVnZXggPSBudWxsO1xuICAgIGlmIChwcm9wcy5yZWdleCkge1xuICAgICAgLypcbiAgICAgICAqIGJyZWFrIHVwIHRoZSByZWdleHAgcGF0dGVybiBpbnRvIDQgcGFydHM6IGdpdmVuIHJlZ2V4LCByZWdleCBwcmVmaXggLCByZWdleCBwYXR0ZXJuLCByZWdleCBmbGFnc1xuICAgICAgICogRXhhbXBsZSAvdGVzdC9pIHdpbGwgYmUgc3BsaXQgaW50byBbXCIvdGVzdC9naVwiLCBcIi9cIiwgXCJ0ZXN0XCIsIFwiZ2lcIl1cbiAgICAgICAqL1xuICAgICAgY29uc3QgcmVnZXhQYXJ0cyA9IHByb3BzLnJlZ2V4Lm1hdGNoKC8oXFwvPykoLispXFxcXDEoW2Etel0qKS9pKTtcblxuICAgICAgaWYgKCFyZWdleFBhcnRzKSB7XG4gICAgICAgIHBhcnNlZFJlZ2V4ID0gbmV3IFJlZ0V4cChwcm9wcy5yZWdleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcmVnZXhQYXJ0c1szXSAmJlxuICAgICAgICAgICEvXig/IS4qPyguKS4qP1xcXFwxKVtnbWlzdXldKyQvLnRlc3QocmVnZXhQYXJ0c1szXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGFyc2VkUmVnZXggPSBSZWdFeHAocHJvcHMucmVnZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qXG4gICAgICAgICAgICogaWYgd2UgaGF2ZSBhIHJlZ2V4IGZsYWdzLCB1c2UgaXQgdG8gZm9ybSByZWdleHBcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBwYXJzZWRSZWdleCA9IG5ldyBSZWdFeHAocmVnZXhQYXJ0c1syXSwgcmVnZXhQYXJ0c1szXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcnNlZFJlZ2V4KSB7XG4gICAgICByZXR1cm4gcGFyc2VkUmVnZXgudGVzdChwcm9wcy50ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc1ZhbGlkVmFsdWU7XG4gICAgfVxuICB9LFxuICAvL1xuICB2YWx1ZTogKHByb3BzLCBtb21lbnQsIF8pID0+IHtcbiAgICBjb25zdCB0ZXh0ID0gcHJvcHMudGV4dDtcblxuICAgIGZ1bmN0aW9uIGdldExvY2FsZSgpIHtcbiAgICAgIHJldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2VzPy5bMF0gfHwgXCJlbi1VU1wiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2FsZURlY2ltYWxTZXBlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gSW50bC5OdW1iZXJGb3JtYXQoZ2V0TG9jYWxlKCkpXG4gICAgICAgIC5mb3JtYXQoMS4xKVxuICAgICAgICAucmVwbGFjZSgvXFxwe051bWJlcn0vZ3UsIFwiXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2FsZVRob3VzYW5kU2VwYXJhdG9yKCkge1xuICAgICAgcmV0dXJuIEludGwuTnVtYmVyRm9ybWF0KGdldExvY2FsZSgpKVxuICAgICAgICAuZm9ybWF0KDExMTExKVxuICAgICAgICAucmVwbGFjZSgvXFxwe051bWJlcn0vZ3UsIFwiXCIpO1xuICAgIH1cblxuICAgIGlmICh0ZXh0KSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUZsb2F0KFxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cChgWyR7Z2V0TG9jYWxlVGhvdXNhbmRTZXBhcmF0b3IoKX1dYCwgXCJnXCIpLCBcIlwiKVxuICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoYFske2dldExvY2FsZURlY2ltYWxTZXBlcmF0b3IoKX1dYCksIFwiLlwiKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChfLmlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgcGFyc2VkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgLy9cbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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